<div class="profile-container" *ngIf="user">
  <div class="user-info">
    <h2><i class="fas fa-user-circle"></i> {{ user.first_name }} {{ user.last_name }}</h2>
    <p><strong>Email:</strong> {{ user.email }}</p>
  </div>

  <div class="rentals-list" *ngIf="rentals.length > 0; else noRentals">
    <h3>–í–∞—à—ñ –æ—Ä–µ–Ω–¥–∏:</h3>

    <div class="rental-cards">
      <div class="rental-card" *ngFor="let r of rentals">
        <div class="car-image-box">
          <img [src]="r.image_url" alt="–§–æ—Ç–æ –∞–≤—Ç–æ" />
        </div>

        <div class="car-info-box">
          <h4>{{ r.car_name }}</h4>
          <p>
            <strong>–ü–µ—Ä—ñ–æ–¥:</strong> 
            {{ r.start_date | date: 'dd.MM.yyyy' }} ‚Äì {{ r.end_date | date: 'dd.MM.yyyy' }}
          </p>
          <p><strong>–°—É–º–∞:</strong> {{ r.total_price }} –≥—Ä–Ω</p>
          <p>
            <strong>–°—Ç–∞—Ç—É—Å:</strong>
            <span 
              [ngClass]="{ 
                'status-done': isPast(r.end_date), 
                'status-active': !isPast(r.end_date) 
              }"
            >
              {{ isPast(r.end_date) ? '–ó–∞–≤–µ—Ä—à–µ–Ω–∞' : '–ê–∫—Ç–∏–≤–Ω–∞' }}
            </span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noRentals>
    <p>–£ –≤–∞—Å –ø–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –æ—Ä–µ–Ω–¥ üò¢</p>
  </ng-template>
</div>